<button (click)="goBack()">Retour</button>
<div class="mainFlex">

  <div class="listContainer" *ngIf="cocktails$ | async as cocktails">
    <h3>Cocktails with this ingredient:</h3>
    <p *ngIf="(cocktails.length === 0)" style="font-style: italic; text-align: center"> no cocktail with that.</p>
    <ul class="threeColumnsRecap" style="list-style-type: none;">
      <li *ngFor="let cocktail of cocktails">
        <a class="clickable" (click)="goToCocktail(cocktail)">
          <img class="preview fadeIn" [class.visible]="imageLoaded[cocktail.id]"
               [src]="'http://' + [environment.apiUrl] + '/cocktail/' + cocktail.id + '/preview'" alt=""
               (load)="imageLoaded[cocktail.id] = true">
        </a>
      </li>
    </ul>
  </div>

  <div class="listContainer" *ngIf="softDrinks$ | async as softDrinks">
    <h3>Softs with this ingredient:</h3>
    <p *ngIf="(softDrinks.length === 0)" style="font-style: italic; text-align: center"> no soft with that.</p>

    <ul class="threeColumnsRecap" style="list-style-type: none;">
      <li *ngFor="let softDrink of softDrinks">
        <a class="clickable" (click)="goToSoftDrink(softDrink)">
          <img class="preview fadeIn" [class.visible]="imageLoaded[softDrink.id]"
          [src]="'http://' + [environment.apiUrl] + '/cocktail/' + softDrink.id + '/preview'" alt=""
          (load)="imageLoaded[softDrink.id] = true">
        </a>
      </li>
    </ul>

  </div>
  <div *ngIf="ingredient" class="ingredient-card">
    <div class="thisFlex"><h3>{{ ingredient.strIngredient | titlecase }}</h3>
      <div>
        <img class="pic fadeIn" [class.visible]="imageLoaded[ingredient.id]"
             [alt]="ingredient.strIngredient" [src]="'http://' + [environment.apiUrl] + '/ingredient/'
              + ingredient.strIngredient + '/image'"
             (load)="imageLoaded[ingredient.id] = true">>
      </div>
    </div>
  </div>
  <div class="twoColumns">
    <ng-container *ngIf="ingredient; else loading">
      <div>
        <!-- Condition pour vérifier s'il y a une description ou non -->
        <ng-container *ngIf="ingredient.strDescription; then hasDescription else noDescription"></ng-container>
      </div>
    </ng-container>

    <!-- Template affiché si `ingredient` n'est pas encore chargé -->
    <ng-template #loading>
      <p>Loading...</p>
    </ng-template>

    <!-- Template affiché si `ingredient.strDescription` existe -->
    <ng-template #hasDescription>
      <p [innerHTML]="ingredient.strDescription | highlightWords: [ingredient.strIngredient, 'wine', 'rum', 'beer', 'whisky', 'whiskey', 'liquor']"></p>
    </ng-template>

    <!-- Template affiché s'il n'y a pas de description -->
    <ng-template #noDescription>
      <h2>This is some {{ ingredient.strIngredient }}</h2>
    </ng-template>

  </div>

</div>
